<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>recordFactor</title>
    <link rel="stylesheet" href="../dist/output.css">
    <link rel="stylesheet" href="../dist/mobiscroll.javascript.min.css">
    <script src="../assets/scripts/mobiscroll.javascript.min.js" ></script>
</head>
<body class="bodyclass">
<div  class="flex flex-col justify-start items-center max-w-sm mx-auto  ">
    <div class="flex flex-col bg-gray-100  pt-4 gap-y-2 w-full min-h-screen  border relative">
        <div class="flex justify-between px-4 items-center">
          <span   class="w-[40px] h-[40px] bg-gray-200 rounded-full flex justify-center items-center">
            <svg
                    fill="#000000"
                    height="16px"
                    width="16px"
                    version="1.1"
                    id="Capa_1"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    viewBox="0 0 32.055 32.055"
                    xml:space="preserve"
                    transform="rotate(90)"
            >
              <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
              <g
                      id="SVGRepo_tracerCarrier"
                      stroke-linecap="round"
                      stroke-linejoin="round"
              ></g>
              <g id="SVGRepo_iconCarrier">
                <g>
                  <path
                          d="M3.968,12.061C1.775,12.061,0,13.835,0,16.027c0,2.192,1.773,3.967,3.968,3.967c2.189,0,3.966-1.772,3.966-3.967 C7.934,13.835,6.157,12.061,3.968,12.061z M16.233,12.061c-2.188,0-3.968,1.773-3.968,3.965c0,2.192,1.778,3.967,3.968,3.967 s3.97-1.772,3.97-3.967C20.201,13.835,18.423,12.061,16.233,12.061z M28.09,12.061c-2.192,0-3.969,1.774-3.969,3.967 c0,2.19,1.774,3.965,3.969,3.965c2.188,0,3.965-1.772,3.965-3.965S30.278,12.061,28.09,12.061z"
                  ></path>
                </g>
              </g>
            </svg>
          </span>
            <div class="flex flex-col justify-center items-center gap-y-1">
                <h4 class="text-primary-900 font-bold text-[20px]">سپیدار</h4>
                <span class="text-gray-700 text-[12px] font-light">سه شنبه - 1383/03/16</span>
            </div>
            <img
                    src="../assets/icons/arrowsquareleft.svg"
                    alt=""
                    class="p-2 w-[40px] h-[40px] rounded-full bg-gray-200"
            />
        </div>
        <div class="w-full px-4 ">
            <input type="checkbox" name="panel" id="panel-5" class="hidden">
            <label for="panel-5" class="relative h-[80px]  flex  justify-between px-3 py-2 bg-white border-zinc-800 rounded-[12px] items-center">
                <div class="flex gap-x-4 items-start  ">
                    <img class="p-2 bg-[#FFEDED] w-[40px] h-[40px] rounded-full" src="../assets/icons/profile8user.svg">
                    <div class="flex flex-col gap-y-2">
                        <h5 class="text-primary-900 text-[14px] font-semibold"> داروخانه ارجمند (10419)</h5>
                        <span class="text-[12px] text-gray-700">تاریخ : 1402/04/20</span>
                    </div>
                </div>


        </div>
        <div class="bg-white py-2 flex justify-center w-full justify-between px-6 w-full text-[12px] text-primary-900">
            <span id="orderBtn" class=" bg-gray-200 py-2  px-3 w-[152px] h-[40px] grid place-items-center text-center rounded-lg ">اطلاعات سفارش </span>
            <span id="itemsBtn" class="   py-2  px-3 w-[152px]  h-[40px] grid place-items-center text-center rounded-lg">اقلام</span>
        </div>
        <div id="orderInformationDiv" class=" w-full px-6 bg-white py-[30px] flex flex-col justify-between flex-1 ">
            <div class="flex flex-col gap-y-4   ">
            <div class="relative float-label-input  ">
                <input type="text" id="address" placeholder="" class="block  rounded-md w-full border-gray-200 bg-white focus:outline-none focus:shadow-outline border border-gray-300 rounded py-4 px-3 block appearance-none leading-normal focus:border-blue-400 h-[56px]">
                <img class="absolute left-4 top-6  text-blue-500" src="../assets/icons/chevronb.svg">
                <label for="address" class="absolute top-4 right-3 text-[14px] text-gray-400 pointer-events-none transition duration-200 ease-in-outbg-white text-[14px] px-2 text-grey-darker ">آدرس مشتری</label>
            </div>
            <div class="relative float-label-input  ">
                <input type="text" id="sellingType" placeholder="" class="block rounded-md w-full border-gray-200 bg-white focus:outline-none focus:shadow-outline border border-gray-300 rounded py-4 px-3 block appearance-none leading-normal focus:border-blue-400 h-[56px]">
                <img class="absolute left-4 top-6  text-blue-500" src="../assets/icons/chevronb.svg">
                <label for="sellingType" class="absolute top-4 right-3 text-[14px] text-gray-400 pointer-events-none transition duration-200 ease-in-outbg-white text-[14px] px-2 text-grey-darker">نوع فروش</label>
            </div>
            <div class="relative float-label-input  ">
                <input type="text" id="SettlementAgreements" placeholder="" class="block rounded-md  w-full border-gray-200 bg-white focus:outline-none focus:shadow-outline border border-gray-300 rounded py-4 px-3 block appearance-none leading-normal focus:border-blue-400 h-[56px]">
                <label for="SettlementAgreements" class="absolute top-4 right-3 text-[14px] text-gray-400 pointer-events-none transition duration-200 ease-in-outbg-white text-[14px] px-2 text-grey-darker">قراردادهای تسویه حساب</label>
            </div>
            <div class="relative float-label-input  ">
                <input  type="text" id="deliveryDate" placeholder="" class="block rounded-md  w-full border-gray-200 bg-white focus:outline-none focus:shadow-outline border border-gray-300 rounded py-4 px-3 block appearance-none leading-normal focus:border-blue-400 h-[56px]">
                <label for="deliveryDate" class="absolute top-4 right-3 text-[14px] text-gray-400 pointer-events-none transition duration-200 ease-in-outbg-white text-[14px] px-2 text-grey-darker">تاریخ تحویل</label>
            </div>
            </div>
            <div class="btn">
                ثبت فاکتور
            </div>

        </div>
        <div id="itemsDiv"  class="hidden w-full px-6 bg-white py-4 flex flex-col justify-between items-center  flex-1 gap-y-6 " >
            <!--            nothing -->
            <div class="flex flex-col gap-y-2 h-[250px]  flex justify-center ">
            <img src="../assets/image/box.png" width="150">
            <span class="text-[12px] font-light text-primary-900 text-center ">هنوز کالایی به فاکتور<br> اضافه نکرده اید</span>
            </div>
            <!--            nothing -->

            <a href="#"  class="btn">افزودن اقلام</a>

        </div>

        <div id="modalDate" class="min-h-screen bg-zinc-950/20  -bottom-[101vh] transition-all duration-300 w-full absolute overflow-hidden flex justify-center items-end">
            <div class="w-full  flex  flex-col items-center bg-white px-6 py-4 justify-between h-[296px] ">
<!--                start-->
                <div class="flex justify-between items-center   w-full">
                    <span class="text-primary-900 font-medium text-[18px]">تاریخ تحویل</span>
                    <img src="../assets/icons/closeDate.svg" onclick="closeModalDate()">
                </div>

                <div class="picker  w-full arrows">
                        <div class="swiper-container year">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide">1388</div>
                                <div class="swiper-slide">1389</div>
                                <div class="swiper-slide">1390</div>
                                <div class="swiper-slide">1391</div>
                                <div class="swiper-slide">1392</div>
                                <div class="swiper-slide">1393</div>
                                <div class="swiper-slide">1394</div>
                                <div class="swiper-slide">1395</div>
                                <div class="swiper-slide">1396</div>
                                <div class="swiper-slide">1397</div>
                                <div class="swiper-slide">1398</div>
                                <div class="swiper-slide">1399</div>
                                <div class="swiper-slide">1400</div>
                                <div class="swiper-slide">1401</div>
                                <div class="swiper-slide">1402</div>
                                <div class="swiper-slide">1403</div>
                                <div class="swiper-slide">1404</div>
                                <div class="swiper-slide">1405</div>
                                <div class="swiper-slide">1406</div>
                                <div class="swiper-slide">1407</div>
                                <div class="swiper-slide">1408</div>
                                <div class="swiper-slide">1409</div>
                                <div class="swiper-slide">1410</div>
                                <div class="swiper-slide">1411</div>
                                <div class="swiper-slide">1412</div>
                                <div class="swiper-slide">1413</div>
                                <div class="swiper-slide">1414</div>
                                <div class="swiper-slide">1415</div>
                                <div class="swiper-slide">1416</div>
                                <div class="swiper-slide">1417</div>
                                <div class="swiper-slide">1418</div>
                                <div class="swiper-slide">1419</div>
                                <div class="swiper-slide">1420</div>
                                <div class="swiper-slide">1421</div>
                                <div class="swiper-slide">1422</div>
                                <div class="swiper-slide">1423</div>
                                <div class="swiper-slide">1424</div>
                                <div class="swiper-slide">1425</div>
                                <div class="swiper-slide">1426</div>
                            </div>
                        </div>
                        <div class="swiper-container month">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide">فروردین</div>
                                <div class="swiper-slide">اردیبهشت</div>
                                <div class="swiper-slide">خرداد</div>
                                <div class="swiper-slide">تیر</div>
                                <div class="swiper-slide">مرداد</div>
                                <div class="swiper-slide">شهریور</div>
                                <div class="swiper-slide">مهر</div>
                                <div class="swiper-slide">آبان</div>
                                <div class="swiper-slide">آذر</div>
                                <div class="swiper-slide">دی</div>
                                <div class="swiper-slide">بهمن</div>
                                <div class="swiper-slide">اسفند</div>
                            </div>
                        </div>
                        <div class="swiper-container days">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide">01</div>
                                <div class="swiper-slide">02</div>
                                <div class="swiper-slide">03</div>
                                <div class="swiper-slide">04</div>
                                <div class="swiper-slide">05</div>
                                <div class="swiper-slide">06</div>
                                <div class="swiper-slide">07</div>
                                <div class="swiper-slide">08</div>
                                <div class="swiper-slide">09</div>
                                <div class="swiper-slide">10</div>
                                <div class="swiper-slide">11</div>
                                <div class="swiper-slide">12</div>
                                <div class="swiper-slide">13</div>
                                <div class="swiper-slide">14</div>
                                <div class="swiper-slide">15</div>
                                <div class="swiper-slide">16</div>
                                <div class="swiper-slide">17</div>
                                <div class="swiper-slide">18</div>
                                <div class="swiper-slide">19</div>
                                <div class="swiper-slide">20</div>
                                <div class="swiper-slide">21</div>
                                <div class="swiper-slide">22</div>
                                <div class="swiper-slide">23</div>
                                <div class="swiper-slide">24</div>
                                <div class="swiper-slide">25</div>
                                <div class="swiper-slide">26</div>
                                <div class="swiper-slide">27</div>
                                <div class="swiper-slide">28</div>
                                <div class="swiper-slide">29</div>
                                <div class="swiper-slide">30</div>
                                <div class="swiper-slide">31</div>
                            </div>
                        </div>
                        <div class="vizor border-primary-500"></div>
                    </div>

                <span onclick="handleDate()" type="button" class="bg-blue-500 place-items-center grid  h-btn w-full text-white rounded-md " >
                    تائید
                </span>

<!--                end-->
            </div>
        </div>
    </div>
</div>
<script>
    const orderInformationDiv = document.getElementById('orderInformationDiv');
    const itemsDiv = document.getElementById('itemsDiv')
    const itemsBtn = document.getElementById('itemsBtn')
    const orderBtn = document.getElementById('orderBtn')

    itemsBtn.onclick = () => {
        itemsDiv.classList.remove('hidden')
        itemsBtn.classList.add('bg-gray-200')
        orderInformationDiv.classList.add('hidden')
        orderBtn.classList.remove('bg-gray-200')
    }
    orderBtn.onclick = () => {
        itemsDiv.classList.add('hidden')
        itemsBtn.classList.remove('bg-gray-200')
        orderInformationDiv.classList.remove('hidden')
        orderBtn.classList.add('bg-gray-200')
    }
    deliveryDate.onclick = () =>{
        console.log('تاریخ تحویل')
        openModalDate()
    }
    document.addEventListener('click', () => {
        if (event.target.id ===  'modalDate'){
            closeModalDate()
        }
    })
    function openModalDate (){
        document.getElementById('modalDate').classList.remove('-bottom-[101vh]')
        document.getElementById('modalDate').classList.add('bottom-0')
    }
    function closeModalDate(){
        document.getElementById('modalDate').classList.add('-bottom-[101vh]')
        document.getElementById('modalDate').classList.remove('bottom-0')
        document.querySelector('.bodyclass').classList.add('overflow-hidden')
    }
    document.querySelector('.bodyclass').classList.add('overflow-hidden')





</script>
<style>

    .input-wrapper {
        text-align: center;
    }
    .picker {
        display: flex;
        flex-direction: row-reverse;
        justify-content: space-between;
        place-items: center ;
        position: relative;
        /*width: 300px;*/
        /*background: red !important;*/
        overflow: hidden;
        margin: 1rem auto 0;
        /*outline: 1px solid #ccc;*/
        /*padding: 0 30px;*/
        background-color: #fff;
        color: #252525;
        height: 112px;
    }

    .swiper-container {
        width: calc(312px / 3);
        height: 100px;
        float: left;
    }

    .swiper-slide {
        text-align: center;
        font-size: 18px;
        font-weight: 400;
        /* Center slide text vertically */
        display: flex;
        justify-content: center;
        align-items: center;
        user-select: none;
        opacity: 0.25;
        transition: opacity 0.3s ease;
        cursor: default;
        /*font-weight: bold;*/
        -webkit-tap-highlight-color: transparent;
    }

    .swiper-slide-prev,
    .swiper-slide-next {
        cursor: pointer;
    }

    .swiper-slide-active {
        opacity: 1;
    }

    .vizor {
        border-top: 1px solid #2987E5;
        border-bottom: 1px solid #2987E5;
        /*height: 70px;*/
        height: 39px;
        position: absolute;
        top: 50%;
        /*left: 1rem;*/
        /*right: 1rem;*/
        width: 100%;
        transform: translateY(-50%);
        font-size: 2rem;
        line-height: 62px;
    }
    .vizor:before {
        left: 95px;
    }
    .vizor:after {
        left: 175px;
    }

    .arrows .swiper-container:after,
    .arrows .swiper-container:before {
        content: "";
        position: absolute;
        left: 50%;
        transform: translateX(-50%);

        width: 0;
        height: 0;
        border-style: solid;
        border-width: 4px;
        border-color: transparent;
        /*opacity: 0.5;*/
        opacity: 0;
    }

    .arrows .swiper-container:before {
        top: 0.5rem;
        border-top-width: 0;
        border-bottom-color: currentColor;
    }

    .arrows .swiper-container:after {
        bottom: 0.5rem;
        border-bottom-width: 0;
        border-top-color: currentColor;
    }

</style>
<script src="../assets/scripts/swiperdate.js"></script>
<script>
    var defaults = {
        pagination: '.swiper-pagination',
        slidesPerView: 3,
        freeMode: true,
        freeModeSticky: true,
        freeModeMomentumRatio: 0.25,
        freeModeVelocityRatio: 0.25,
        freeModeMinimumVelocity: 0.1,
        // loop: true,
        loopAdditionalSlides: 5,
        direction: 'vertical',
        slideToClickedSlide: true,
        centeredSlides: true,
        onSlideChangeEnd: updateInput
    };

    var year = Swiper(
        '.swiper-container.year',
        Object.assign({}, defaults, {
            initialSlide: 14
        })
    );
    year.on('slideChangeEnd', function () {

    })

    var month = Swiper(
        '.swiper-container.month',
        Object.assign({}, defaults, {
            initialSlide: 3
        })
    );

    var days = Swiper('.swiper-container.days', Object.assign({}, defaults, {
        initialSlide: 4
    }));

    var input = document.getElementById('deliveryDate');
    input.addEventListener('focus', moveLeft);
    input.addEventListener('click', function (evt) {
        var start = input.selectionStart;
        var mod = start % 3;
        start -=  mod;
        input.setSelectionRange(start, start + 2);
    });

    input.addEventListener('keydown', function(evt) {
        evt.preventDefault();
        switch (evt.keyCode) {
            case 38:
                change(true);
                break;
            case 40:
                change();
                break;
            case 37:
                moveLeft();
                break;
            case 39:
                moveRight();
                break;
        }
    });

    function moveLeft(e) {
        var start = input.selectionStart;
        var end = input.selectionEnd;

        var invalidSelection = (end - start !== 2) || (start % 3 !== 0);

        if (invalidSelection) {
            input.setSelectionRange(0, 2);
        } else if (start > 0) {
            start -= 3;
            input.setSelectionRange(start, start+2);
        }
    }

    function moveRight() {
        var start = input.selectionStart;
        var end = input.selectionEnd;

        if (end - start !== 2) {
            input.setSelectionRange(0, 2);
        }

        if (end < input.value.length) {
            start += 3;
        }

        input.setSelectionRange(start, start+2);
    }

    function findPart() {
        var start = input.selectionStart;
        var mod = start % 3;
        start -=  mod;

        if (start === 6) {
            return days;
        } else if (start === 3) {
            return month;
        }

        return year;
    }

    function change(direction) {
        var part = findPart();
        direction? part.slideNext(true, 50) : part.slidePrev(true, 50);
    }

    function updateInput() {
        if (!input) {
            return false;
        }

        var start = input.selectionStart;
        var end = input.selectionEnd;
        // input.value
        const months = ["فروردين", "ارديبهشت", "خرداد", "تير", "مرداد", "شهريور", "مهر", "آبان", "آذر", "دي", "بهمن", "اسفند"]
        input.value = Number(Number(pad(year.realIndex))+1388) + '/' + months[Number(pad(month.realIndex))] + '/' + Number(Number(pad(days.realIndex)) + 1);
        input.setSelectionRange(start, end);
    }

    function pad(v) {
        return v > 9? v : "0" + String(v);
    }

    // input.focus();
    // updateInput()
    function handleDate(){
        console.log("handleDate()")
        updateInput()
        closeModalDate()
    }
</script>

</body>
</html>
